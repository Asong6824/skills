---
name: style-analysis
description: 对散文作家作品进行深度写作风格分析。包括数据采样（高频关注点）、逻辑拓扑（叙述路径）、语调校准（词语审计）。支持自动将非 Markdown 格式转换为 Markdown 进行分析。
metadata:
  version: 1.0.0
  author: hanruochong
---

# Style Analysis (写作风格分析)

## 什么时候使用

当用户要求分析特定作家或作品的**写作风格**，并提供了作品文件路径（或目录）时使用此 Skill。

## 工作流概览

1. **文件预处理**：检查文件格式，利用 `markitdown` 将非 Markdown 文件转换为 Markdown。
2. **数据采样 (Data Sampling)**：建立“高频关注点数据库”，统计名词分布。
3. **逻辑拓扑 (Logic Topology)**：绘制“叙述路径图”，标记段落功能。
4. **语调校准 (Tone Calibration)**：进行“形容词/动词审计”，剥离修饰语。
5. **生成报告**：综合以上分析，输出风格诊断报告。

---

## Step 1: 文件预处理与转换

如果用户提供的文件不是 markdown 格式，或是一个包含多种格式文件的目录，请利用 `scripts/convert_and_analyze.py` 脚本进行批量转换和预处理。该脚本会自动调用 `markitdown` 将内容合并输出。

**使用方法**：

```bash
# 自动识别目录或文件，调用 markitdown 转换并合并输出
python3 ~/.gemini/antigravity/skills/style-analysis/scripts/convert_and_analyze.py <path_to_file_or_directory>
```

* 该命令会将指定路径下的所有支持文件转换为 Markdown 并输出到标准输出。
* 你可以将输出重定向到一个文件，或者直接读取输出进行分析。
* *提示*：分析时应优先选取最具代表性的 3-5 篇文章（约 5000 字）作为样本。

---

## Step 2: 数据采样——建立“高频关注点数据库”

**目标**：量化作家的注意力分配，从“他眼睛里能看到什么”来界定风格。

**操作方法（名词分类统计法）**：
圈出样本中出现的所有**实词（名词）**，并将其分类放入以下三个“篮子”：

### 🧺 篮子 A（宏观/抽象）

* **关键词**：时代、历史、社会结构、命运、哲学概念、信仰、主义...
* *代表含义*：关注宏大叙事、形而上思考。

### 🧺 篮子 B（中观/人际）

* **关键词**：家族关系、邻里纠纷、对话、性格特征、人情世故、职场斗争...
* *代表含义*：关注社会关系、人伦情感。

### 🧺 篮子 C（微观/物质）

* **关键词**：器物名称、材质、地理坐标、感官细节（颜色/气味/触感）、植物名...
* *代表含义*：关注具象世界、感官体验。

**输出要求**：

* 统计各篮子名词的占比（估算或计数）。
* 指出作家注意力的主要倾向（例如：“该作家 60% 的注意力在【篮子C】，极度迷恋物质细节描写...”）。

---

## Step 3: 逻辑拓扑——绘制“叙述路径图”

**目标**：分析思维跳跃模式，捕捉文章是“如何从一段流向下一段的”。

**操作方法（段落功能标记法）**：
选取一章或一篇代表性文章，按段落顺序标记其**功能属性**。常见属性如下：

* `[定位]`：交代地理位置、空间方位。
* `[考据]`：解释事物的历史来源、百科知识、典故。
* `[感官]`：描写当下的视觉、听觉、嗅觉等直接体验。
* `[闪回]`：切换到童年记忆、过去的时间线。
* `[议论]`：发表主观评价、哲理感悟。
* `[叙事]`：推进故事情节发展。

**分析重点**：

* 观察“功能切换”的频率和模式。
* *示例*：是否习惯从`[感官]`直接跳跃到`[考据]`（这也是一种知识分子的掉书袋风格）？还是习惯从`[叙事]`平滑过渡到`[议论]`？

---

## Step 4: 语调校准——进行“形容词/动词审计”

**目标**：评估语言质感（软糯、干脆、华丽、冷峻等）。

**操作方法（修饰语剥离测试）**：
选取一段约 200 字的**描写性文字**，进行微观审计：

### 1. 形容词审计 (Adjective Audit)

* **数量统计**：形容词密度如何？
* **性质分析**：
  * **情绪类**（主观）：悲伤的、快乐的、凄凉的...
  * **物理类**（客观）：粗糙的、深蓝的、冰凉的、颗粒状的...

### 2. 动词精度检查 (Verb Precision)

* 检查动词的使用习惯：
  * **万能动词**：做、拿、走、看、吃... （语感较平庸或口语化）
  * **专用动词**：削、磨、踱、穿行、瞥、咀嚼... （语感精确，画面感强）

---

## 最终输出：风格分析报告

请基于以上三步分析，生成一份结构化的报告：

1. **注意力光谱**：基于名词统计，定性分析作家的关注层级（宏观/中观/微观）。
2. **思维拓扑**：描述其段落流动的典型模式（例如：“游记中的考据癖”、“感官驱动的意识流”）。
3. **语言质感**：基于词语审计，用 3 个关键词定义其语言风格（例如：“冷峻精确”、“华丽堆砌”、“市井烟火”），并提供证据句。
